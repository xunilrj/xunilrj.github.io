parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"IZS2":[function(require,module,exports) {
var o=new Set;console.once=function(n,e){o.has(n)||(o.add(n),console.log(e))};
},{}],"NUsS":[function(require,module,exports) {
"use strict";function e(e){var t=[],n=[],r=null,a=null,c={},o=function(e,t){return[e,t]},u=function(e){if(r&&r.callback){var t={x:n[0],y:n[1],type:"mouseDown"};return[r.callback(t),t]}return[null,null]},l=function(e){if(r&&r.callback){var t={x:n[0],y:n[1],type:"mouseUp"};return[r.callback(t),t]}return[null,null]},i=function(e){r=null;for(var n=0;n<t.length;++n){var u=t[n];if(u.updateCoords){var l={rectAround:function(e){var t=o(e[0]-5,e[1]-5),n=o(e[0]+5,e[1]+5);return[t[0],n[0],t[1],n[1]]}};u.coords=u.updateCoords(l)}var i=u.coords;if(e.x>=i[0]&&e.x<=i[1]&&e.y>=i[2]&&e.y<=i[3]){u.enter=0==u.inside,u.exit=!1,u.inside=!0,r=u;var d={x:e.x,y:e.y,rect:u,type:u.enter?"enter":"inside"};return u.callback&&u.callback(d),c[a].callback&&c[a].callback(d),void s(d)}if(u.exit=1==u.inside,u.enter=u.inside=!1,u.exit){d={x:e.x,y:e.y,rect:u,type:"exit"};return u.callback&&u.callback(d),c[a].callback&&c[a].callback(d),void s(d)}}};function s(t){t&&t.cursor&&(e.style.cursor=t.cursor),t&&t.state&&(a=t.state),t&&t.data&&t.data,t&&t.lastRect&&(r=t.lastRect)}e.addEventListener("mousedown",function(){var e={x:n[0],y:n[1],rect:r};c[a].mouseDown(e),s(e)}),e.addEventListener("mouseup",function(){var e={x:n[0],y:n[1],rect:r};c[a].mouseUp(e),s(e)}),e.addEventListener("mousemove",function(t){var o=e.getBoundingClientRect(),u=t.clientX-o.left,l=t.clientY-o.top,i={x:(n=[u,l])[0],y:n[1],rect:r};c[a].mouseMove(i),s(i)});var d={toWorld:function(e){return e,d},toCanvas:function(e){return o=e,d},addRect:function(e,n){return t.push({updateCoords:e,callback:n}),d},state:function(e,t){var n=t.mouseMove,r=t.mouseDown,o=t.mouseUp,s=t.callback;return a||(a=e),c[e]={callback:s,mouseMove:n||i,mouseDown:r||u,mouseUp:o||l},d}};return d}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"k3vj":[function(require,module,exports) {
"use strict";const t=Object.prototype.toString;function r(r){return t.call(r).endsWith("Array]")}module.exports=r;
},{}],"u9bL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("is-any-array"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){if(!(0,e.default)(r))throw new TypeError("input must be an array");if(0===r.length)throw new TypeError("input must not be empty");for(var t=r[0],u=1;u<r.length;u++)r[u]>t&&(t=r[u]);return t}var u=t;exports.default=u;
},{"is-any-array":"k3vj"}],"zzsq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("is-any-array"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){if(!(0,e.default)(r))throw new TypeError("input must be an array");if(0===r.length)throw new TypeError("input must not be empty");for(var t=r[0],u=1;u<r.length;u++)r[u]<t&&(t=r[u]);return t}var u=t;exports.default=u;
},{"is-any-array":"k3vj"}],"LLeq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=a(require("ml-array-max")),e=a(require("ml-array-min")),t=a(require("is-any-array"));function a(r){return r&&r.__esModule?r:{default:r}}function n(a){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,t.default)(a))throw new TypeError("input must be an array");if(0===a.length)throw new TypeError("input must not be empty");if(void 0!==o.output){if(!(0,t.default)(o.output))throw new TypeError("output option must be an array if specified");n=o.output}else n=new Array(a.length);var u=(0,e.default)(a),i=(0,r.default)(a);if(u===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var l=o.min,m=void 0===l?o.autoMinMax?u:0:l,f=o.max,p=void 0===f?o.autoMinMax?i:1:f;if(m>=p)throw new RangeError("min option must be smaller than max option");for(var s=(p-m)/(i-u),d=0;d<a.length;d++)n[d]=(a[d]-u)*s+m;return n}var o=n;exports.default=o;
},{"ml-array-max":"u9bL","ml-array-min":"zzsq","is-any-array":"k3vj"}],"XMpo":[function(require,module,exports) {
"use strict";function r(r,e,o){let n=o?r.rows:r.rows-1;if(e<0||e>n)throw new RangeError("Row index out of range")}function e(r,e,o){let n=o?r.columns:r.columns-1;if(e<0||e>n)throw new RangeError("Column index out of range")}function o(r,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==r.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function n(r,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==r.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function t(r,e,o){return{row:c(r,e),column:s(r,o)}}function c(r,e){if("object"!=typeof e)throw new TypeError("unexpected type for row indices");if(e.some(e=>e<0||e>=r.rows))throw new RangeError("row indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function s(r,e){if("object"!=typeof e)throw new TypeError("unexpected type for column indices");if(e.some(e=>e<0||e>=r.columns))throw new RangeError("column indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function u(r,e,o,n,t){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(w("startRow",e),w("endRow",o),w("startColumn",n),w("endColumn",t),e>o||n>t||e<0||e>=r.rows||o<0||o>=r.rows||n<0||n>=r.columns||t<0||t>=r.columns)throw new RangeError("Submatrix indices are out of range")}function i(r,e=0){let o=[];for(let n=0;n<r;n++)o.push(e);return o}function w(r,e){if("number"!=typeof e)throw new TypeError(`${r} must be a number`)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkRowIndex=r,exports.checkColumnIndex=e,exports.checkRowVector=o,exports.checkColumnVector=n,exports.checkIndices=t,exports.checkRowIndices=c,exports.checkColumnIndices=s,exports.checkRange=u,exports.newArray=i;
},{}],"TL7h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sumByRow=o,exports.sumByColumn=e,exports.sumAll=r,exports.productByRow=l,exports.productByColumn=n,exports.productAll=s,exports.varianceByRow=u,exports.varianceByColumn=c,exports.varianceAll=f,exports.centerByRow=w,exports.centerByColumn=p,exports.centerAll=m,exports.getScaleByRow=i,exports.scaleByRow=a,exports.getScaleByColumn=g,exports.scaleByColumn=x,exports.getScaleAll=y,exports.scaleAll=h;var t=require("./util");function o(o){let e=(0,t.newArray)(o.rows);for(let t=0;t<o.rows;++t)for(let r=0;r<o.columns;++r)e[t]+=o.get(t,r);return e}function e(o){let e=(0,t.newArray)(o.columns);for(let t=0;t<o.rows;++t)for(let r=0;r<o.columns;++r)e[r]+=o.get(t,r);return e}function r(t){let o=0;for(let e=0;e<t.rows;e++)for(let r=0;r<t.columns;r++)o+=t.get(e,r);return o}function l(o){let e=(0,t.newArray)(o.rows,1);for(let t=0;t<o.rows;++t)for(let r=0;r<o.columns;++r)e[t]*=o.get(t,r);return e}function n(o){let e=(0,t.newArray)(o.columns,1);for(let t=0;t<o.rows;++t)for(let r=0;r<o.columns;++r)e[r]*=o.get(t,r);return e}function s(t){let o=1;for(let e=0;e<t.rows;e++)for(let r=0;r<t.columns;r++)o*=t.get(e,r);return o}function u(t,o,e){const r=t.rows,l=t.columns,n=[];for(let s=0;s<r;s++){let r=0,u=0,c=0;for(let o=0;o<l;o++)r+=c=t.get(s,o)-e[s],u+=c*c;o?n.push((u-r*r/l)/(l-1)):n.push((u-r*r/l)/l)}return n}function c(t,o,e){const r=t.rows,l=t.columns,n=[];for(let s=0;s<l;s++){let l=0,u=0,c=0;for(let o=0;o<r;o++)l+=c=t.get(o,s)-e[s],u+=c*c;o?n.push((u-l*l/r)/(r-1)):n.push((u-l*l/r)/r)}return n}function f(t,o,e){const r=t.rows,l=t.columns,n=r*l;let s=0,u=0,c=0;for(let f=0;f<r;f++)for(let o=0;o<l;o++)s+=c=t.get(f,o)-e,u+=c*c;return o?(u-s*s/n)/(n-1):(u-s*s/n)/n}function w(t,o){for(let e=0;e<t.rows;e++)for(let r=0;r<t.columns;r++)t.set(e,r,t.get(e,r)-o[e])}function p(t,o){for(let e=0;e<t.rows;e++)for(let r=0;r<t.columns;r++)t.set(e,r,t.get(e,r)-o[r])}function m(t,o){for(let e=0;e<t.rows;e++)for(let r=0;r<t.columns;r++)t.set(e,r,t.get(e,r)-o)}function i(t){const o=[];for(let e=0;e<t.rows;e++){let r=0;for(let o=0;o<t.columns;o++)r+=Math.pow(t.get(e,o),2)/(t.columns-1);o.push(Math.sqrt(r))}return o}function a(t,o){for(let e=0;e<t.rows;e++)for(let r=0;r<t.columns;r++)t.set(e,r,t.get(e,r)/o[e])}function g(t){const o=[];for(let e=0;e<t.columns;e++){let r=0;for(let o=0;o<t.rows;o++)r+=Math.pow(t.get(o,e),2)/(t.rows-1);o.push(Math.sqrt(r))}return o}function x(t,o){for(let e=0;e<t.rows;e++)for(let r=0;r<t.columns;r++)t.set(e,r,t.get(e,r)/o[r])}function y(t){const o=t.size-1;let e=0;for(let r=0;r<t.columns;r++)for(let l=0;l<t.rows;l++)e+=Math.pow(t.get(l,r),2)/o;return Math.sqrt(e)}function h(t,o){for(let e=0;e<t.rows;e++)for(let r=0;r<t.columns;r++)t.set(e,r,t.get(e,r)/o)}
},{"./util":"XMpo"}],"Ob2E":[function(require,module,exports) {
"use strict";function n(){const n=" ".repeat(2),t=" ".repeat(4);return`${this.constructor.name} {\n${n}[\n${t}${s(this,t)}\n${n}]\n${n}rows: ${this.rows}\n${n}columns: ${this.columns}\n}`}Object.defineProperty(exports,"__esModule",{value:!0}),exports.inspectMatrix=n;const t=15,e=10,o=8;function s(n,o){const{rows:s,columns:i}=n,u=Math.min(s,t),c=Math.min(i,e),l=[];for(let t=0;t<u;t++){let e=[];for(let o=0;o<c;o++)e.push(r(n.get(t,o)));l.push(`${e.join(" ")}`)}return c!==i&&(l[l.length-1]+=` ... ${i-e} more columns`),u!==s&&l.push(`... ${s-t} more rows`),l.join(`\n${o}`)}function r(n){const t=String(n);if(t.length<=o)return t.padEnd(o," ");const e=n.toPrecision(o-2);if(e.length<=o)return e;const s=n.toExponential(o-2),r=s.indexOf("e"),i=s.substring(r);return s.substring(0,o-i.length)+i}
},{}],"gYEj":[function(require,module,exports) {
"use strict";function t(t,o){t.prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},t.prototype.addS=function(t){for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,this.get(o,s)+t);return this},t.prototype.addM=function(t){if(t=o.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,this.get(o,s)+t.get(o,s));return this},t.add=function(t,s){return new o(t).add(s)},t.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},t.prototype.subS=function(t){for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,this.get(o,s)-t);return this},t.prototype.subM=function(t){if(t=o.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,this.get(o,s)-t.get(o,s));return this},t.sub=function(t,s){return new o(t).sub(s)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},t.prototype.mulS=function(t){for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,this.get(o,s)*t);return this},t.prototype.mulM=function(t){if(t=o.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,this.get(o,s)*t.get(o,s));return this},t.mul=function(t,s){return new o(t).mul(s)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},t.prototype.divS=function(t){for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,this.get(o,s)/t);return this},t.prototype.divM=function(t){if(t=o.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,this.get(o,s)/t.get(o,s));return this},t.div=function(t,s){return new o(t).div(s)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},t.prototype.modS=function(t){for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,this.get(o,s)%t);return this},t.prototype.modM=function(t){if(t=o.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,this.get(o,s)%t.get(o,s));return this},t.mod=function(t,s){return new o(t).mod(s)},t.prototype.modulus=t.prototype.mod,t.prototype.modulusS=t.prototype.modS,t.prototype.modulusM=t.prototype.modM,t.modulus=t.mod,t.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},t.prototype.andS=function(t){for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,this.get(o,s)&t);return this},t.prototype.andM=function(t){if(t=o.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,this.get(o,s)&t.get(o,s));return this},t.and=function(t,s){return new o(t).and(s)},t.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},t.prototype.orS=function(t){for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,this.get(o,s)|t);return this},t.prototype.orM=function(t){if(t=o.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,this.get(o,s)|t.get(o,s));return this},t.or=function(t,s){return new o(t).or(s)},t.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},t.prototype.xorS=function(t){for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,this.get(o,s)^t);return this},t.prototype.xorM=function(t){if(t=o.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,this.get(o,s)^t.get(o,s));return this},t.xor=function(t,s){return new o(t).xor(s)},t.prototype.leftShift=function(t){return"number"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},t.prototype.leftShiftS=function(t){for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,this.get(o,s)<<t);return this},t.prototype.leftShiftM=function(t){if(t=o.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,this.get(o,s)<<t.get(o,s));return this},t.leftShift=function(t,s){return new o(t).leftShift(s)},t.prototype.signPropagatingRightShift=function(t){return"number"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},t.prototype.signPropagatingRightShiftS=function(t){for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,this.get(o,s)>>t);return this},t.prototype.signPropagatingRightShiftM=function(t){if(t=o.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,this.get(o,s)>>t.get(o,s));return this},t.signPropagatingRightShift=function(t,s){return new o(t).signPropagatingRightShift(s)},t.prototype.rightShift=function(t){return"number"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},t.prototype.rightShiftS=function(t){for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,this.get(o,s)>>>t);return this},t.prototype.rightShiftM=function(t){if(t=o.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,this.get(o,s)>>>t.get(o,s));return this},t.rightShift=function(t,s){return new o(t).rightShift(s)},t.prototype.zeroFillRightShift=t.prototype.rightShift,t.prototype.zeroFillRightShiftS=t.prototype.rightShiftS,t.prototype.zeroFillRightShiftM=t.prototype.rightShiftM,t.zeroFillRightShift=t.rightShift,t.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,~this.get(t,o));return this},t.not=function(t){return new o(t).not()},t.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.abs(this.get(t,o)));return this},t.abs=function(t){return new o(t).abs()},t.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.acos(this.get(t,o)));return this},t.acos=function(t){return new o(t).acos()},t.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.acosh(this.get(t,o)));return this},t.acosh=function(t){return new o(t).acosh()},t.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.asin(this.get(t,o)));return this},t.asin=function(t){return new o(t).asin()},t.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.asinh(this.get(t,o)));return this},t.asinh=function(t){return new o(t).asinh()},t.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.atan(this.get(t,o)));return this},t.atan=function(t){return new o(t).atan()},t.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.atanh(this.get(t,o)));return this},t.atanh=function(t){return new o(t).atanh()},t.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.cbrt(this.get(t,o)));return this},t.cbrt=function(t){return new o(t).cbrt()},t.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.ceil(this.get(t,o)));return this},t.ceil=function(t){return new o(t).ceil()},t.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.clz32(this.get(t,o)));return this},t.clz32=function(t){return new o(t).clz32()},t.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.cos(this.get(t,o)));return this},t.cos=function(t){return new o(t).cos()},t.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.cosh(this.get(t,o)));return this},t.cosh=function(t){return new o(t).cosh()},t.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.exp(this.get(t,o)));return this},t.exp=function(t){return new o(t).exp()},t.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.expm1(this.get(t,o)));return this},t.expm1=function(t){return new o(t).expm1()},t.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.floor(this.get(t,o)));return this},t.floor=function(t){return new o(t).floor()},t.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.fround(this.get(t,o)));return this},t.fround=function(t){return new o(t).fround()},t.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log(this.get(t,o)));return this},t.log=function(t){return new o(t).log()},t.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log1p(this.get(t,o)));return this},t.log1p=function(t){return new o(t).log1p()},t.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log10(this.get(t,o)));return this},t.log10=function(t){return new o(t).log10()},t.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log2(this.get(t,o)));return this},t.log2=function(t){return new o(t).log2()},t.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.round(this.get(t,o)));return this},t.round=function(t){return new o(t).round()},t.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sign(this.get(t,o)));return this},t.sign=function(t){return new o(t).sign()},t.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sin(this.get(t,o)));return this},t.sin=function(t){return new o(t).sin()},t.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sinh(this.get(t,o)));return this},t.sinh=function(t){return new o(t).sinh()},t.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sqrt(this.get(t,o)));return this},t.sqrt=function(t){return new o(t).sqrt()},t.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.tan(this.get(t,o)));return this},t.tan=function(t){return new o(t).tan()},t.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.tanh(this.get(t,o)));return this},t.tanh=function(t){return new o(t).tanh()},t.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.trunc(this.get(t,o)));return this},t.trunc=function(t){return new o(t).trunc()},t.pow=function(t,s){return new o(t).pow(s)},t.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},t.prototype.powS=function(t){for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,Math.pow(this.get(o,s),t));return this},t.prototype.powM=function(t){if(t=o.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let s=0;s<this.columns;s++)this.set(o,s,Math.pow(this.get(o,s),t.get(o,s)));return this}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.installMathOperations=t;
},{}],"M9sK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.AbstractMatrix=void 0;var t=i(require("ml-array-rescale")),e=require("./util"),r=require("./stat"),s=require("./inspect"),o=require("./mathOperations");function i(t){return t&&t.__esModule?t:{default:t}}class n{static from1DArray(t,e,r){if(t*e!==r.length)throw new RangeError("data length does not match given dimensions");let s=new l(t,e);for(let o=0;o<t;o++)for(let t=0;t<e;t++)s.set(o,t,r[o*e+t]);return s}static rowVector(t){let e=new l(1,t.length);for(let r=0;r<t.length;r++)e.set(0,r,t[r]);return e}static columnVector(t){let e=new l(t.length,1);for(let r=0;r<t.length;r++)e.set(r,0,t[r]);return e}static zeros(t,e){return new l(t,e)}static ones(t,e){return new l(t,e).fill(1)}static rand(t,e,r={}){if("object"!=typeof r)throw new TypeError("options must be an object");const{random:s=Math.random}=r;let o=new l(t,e);for(let i=0;i<t;i++)for(let t=0;t<e;t++)o.set(i,t,s());return o}static randInt(t,e,r={}){if("object"!=typeof r)throw new TypeError("options must be an object");const{min:s=0,max:o=1e3,random:i=Math.random}=r;if(!Number.isInteger(s))throw new TypeError("min must be an integer");if(!Number.isInteger(o))throw new TypeError("max must be an integer");if(s>=o)throw new RangeError("min must be smaller than max");let n=o-s,h=new l(t,e);for(let l=0;l<t;l++)for(let t=0;t<e;t++){let e=s+Math.round(i()*n);h.set(l,t,e)}return h}static eye(t,e,r){void 0===e&&(e=t),void 0===r&&(r=1);let s=Math.min(t,e),o=this.zeros(t,e);for(let i=0;i<s;i++)o.set(i,i,r);return o}static diag(t,e,r){let s=t.length;void 0===e&&(e=s),void 0===r&&(r=e);let o=Math.min(s,e,r),i=this.zeros(e,r);for(let n=0;n<o;n++)i.set(n,n,t[n]);return i}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,s=t.columns,o=new l(r,s);for(let i=0;i<r;i++)for(let r=0;r<s;r++)o.set(i,r,Math.min(t.get(i,r),e.get(i,r)));return o}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,s=t.columns,o=new this(r,s);for(let i=0;i<r;i++)for(let r=0;r<s;r++)o.set(i,r,Math.max(t.get(i,r),e.get(i,r)));return o}static checkMatrix(t){return n.isMatrix(t)?t:new l(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!=typeof t)throw new TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.call(this,e,r);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.push(this.get(e,r));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let r=0;r<this.columns;r++)t[e].push(this.get(e,r))}return t}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isEchelonForm(){let t=0,e=0,r=-1,s=!0,o=!1;for(;t<this.rows&&s;){for(e=0,o=!1;e<this.columns&&!1===o;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(o=!0,r=e):(s=!1,o=!0);t++}return s}isReducedEchelonForm(){let t=0,e=0,r=-1,s=!0,o=!1;for(;t<this.rows&&s;){for(e=0,o=!1;e<this.columns&&!1===o;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(o=!0,r=e):(s=!1,o=!0);for(let r=e+1;r<this.rows;r++)0!==this.get(t,r)&&(s=!1);t++}return s}echelonForm(){let t=this.clone(),e=0,r=0;for(;e<t.rows&&r<t.columns;){let s=e;for(let o=e;o<t.rows;o++)t.get(o,r)>t.get(s,r)&&(s=o);if(0===t.get(s,r))r++;else{t.swapRows(e,s);let o=t.get(e,r);for(let s=r;s<t.columns;s++)t.set(e,s,t.get(e,s)/o);for(let s=e+1;s<t.rows;s++){let o=t.get(s,r)/t.get(e,r);t.set(s,r,0);for(let i=r+1;i<t.columns;i++)t.set(s,i,t.get(s,i)-t.get(e,i)*o)}e++,r++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,r=t.rows,s=r-1;for(;s>=0;)if(0===t.maxRow(s))s--;else{let o=0,i=!1;for(;o<r&&!1===i;)1===t.get(s,o)?i=!0:o++;for(let r=0;r<s;r++){let i=t.get(r,o);for(let n=o;n<e;n++){let e=t.get(r,n)-i*t.get(s,n);t.set(r,n,e)}}s--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{rows:e=1,columns:r=1}=t;if(!Number.isInteger(e)||e<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new TypeError("columns must be a positive integer");let s=new l(this.rows*e,this.columns*r);for(let o=0;o<e;o++)for(let t=0;t<r;t++)s.setSubMatrix(this,this.rows*o,this.columns*t);return s}fill(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,t);return this}neg(){return this.mulS(-1)}getRow(t){(0,e.checkRowIndex)(this,t);let r=[];for(let e=0;e<this.columns;e++)r.push(this.get(t,e));return r}getRowVector(t){return l.rowVector(this.getRow(t))}setRow(t,r){(0,e.checkRowIndex)(this,t),r=(0,e.checkRowVector)(this,r);for(let e=0;e<this.columns;e++)this.set(t,e,r[e]);return this}swapRows(t,r){(0,e.checkRowIndex)(this,t),(0,e.checkRowIndex)(this,r);for(let e=0;e<this.columns;e++){let s=this.get(t,e);this.set(t,e,this.get(r,e)),this.set(r,e,s)}return this}getColumn(t){(0,e.checkColumnIndex)(this,t);let r=[];for(let e=0;e<this.rows;e++)r.push(this.get(e,t));return r}getColumnVector(t){return l.columnVector(this.getColumn(t))}setColumn(t,r){(0,e.checkColumnIndex)(this,t),r=(0,e.checkColumnVector)(this,r);for(let e=0;e<this.rows;e++)this.set(e,t,r[e]);return this}swapColumns(t,r){(0,e.checkColumnIndex)(this,t),(0,e.checkColumnIndex)(this,r);for(let e=0;e<this.rows;e++){let s=this.get(e,t);this.set(e,t,this.get(e,r)),this.set(e,r,s)}return this}addRowVector(t){t=(0,e.checkRowVector)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}subRowVector(t){t=(0,e.checkRowVector)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}mulRowVector(t){t=(0,e.checkRowVector)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}divRowVector(t){t=(0,e.checkRowVector)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}addColumnVector(t){t=(0,e.checkColumnVector)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}subColumnVector(t){t=(0,e.checkColumnVector)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}mulColumnVector(t){t=(0,e.checkColumnVector)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}divColumnVector(t){t=(0,e.checkColumnVector)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}mulRow(t,r){(0,e.checkRowIndex)(this,t);for(let e=0;e<this.columns;e++)this.set(t,e,this.get(t,e)*r);return this}mulColumn(t,r){(0,e.checkColumnIndex)(this,t);for(let e=0;e<this.rows;e++)this.set(e,t,this.get(e,t)*r);return this}max(){let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}maxIndex(){let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)>t&&(t=this.get(r,s),e[0]=r,e[1]=s);return e}min(){let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}minIndex(){let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)<t&&(t=this.get(r,s),e[0]=r,e[1]=s);return e}maxRow(t){(0,e.checkRowIndex)(this,t);let r=this.get(t,0);for(let e=1;e<this.columns;e++)this.get(t,e)>r&&(r=this.get(t,e));return r}maxRowIndex(t){(0,e.checkRowIndex)(this,t);let r=this.get(t,0),s=[t,0];for(let e=1;e<this.columns;e++)this.get(t,e)>r&&(r=this.get(t,e),s[1]=e);return s}minRow(t){(0,e.checkRowIndex)(this,t);let r=this.get(t,0);for(let e=1;e<this.columns;e++)this.get(t,e)<r&&(r=this.get(t,e));return r}minRowIndex(t){(0,e.checkRowIndex)(this,t);let r=this.get(t,0),s=[t,0];for(let e=1;e<this.columns;e++)this.get(t,e)<r&&(r=this.get(t,e),s[1]=e);return s}maxColumn(t){(0,e.checkColumnIndex)(this,t);let r=this.get(0,t);for(let e=1;e<this.rows;e++)this.get(e,t)>r&&(r=this.get(e,t));return r}maxColumnIndex(t){(0,e.checkColumnIndex)(this,t);let r=this.get(0,t),s=[0,t];for(let e=1;e<this.rows;e++)this.get(e,t)>r&&(r=this.get(e,t),s[0]=e);return s}minColumn(t){(0,e.checkColumnIndex)(this,t);let r=this.get(0,t);for(let e=1;e<this.rows;e++)this.get(e,t)<r&&(r=this.get(e,t));return r}minColumnIndex(t){(0,e.checkColumnIndex)(this,t);let r=this.get(0,t),s=[0,t];for(let e=1;e<this.rows;e++)this.get(e,t)<r&&(r=this.get(e,t),s[0]=e);return s}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let r=0;r<t;r++)e.push(this.get(r,r));return e}norm(t="frobenius"){let e=0;if("max"===t)return this.max();if("frobenius"===t){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)e+=this.get(t,r)*this.get(t,r);return Math.sqrt(e)}throw new RangeError(`unknown norm type: ${t}`)}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}dot(t){n.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");let r=0;for(let s=0;s<e.length;s++)r+=e[s]*t[s];return r}mmul(t){t=l.checkMatrix(t);let e=this.rows,r=this.columns,s=t.columns,o=new l(e,s),i=new Float64Array(r);for(let n=0;n<s;n++){for(let e=0;e<r;e++)i[e]=t.get(e,n);for(let t=0;t<e;t++){let e=0;for(let s=0;s<r;s++)e+=this.get(t,s)*i[s];o.set(t,n,e)}}return o}strassen2x2(t){t=l.checkMatrix(t);let e=new l(2,2);const r=this.get(0,0),s=t.get(0,0),o=this.get(0,1),i=t.get(0,1),n=this.get(1,0),h=t.get(1,0),u=this.get(1,1),a=t.get(1,1),c=(r+u)*(s+a),m=(n+u)*s,w=r*(i-a),f=u*(h-s),g=(r+o)*a,d=c+f-g+(o-u)*(h+a),p=w+g,y=m+f,b=c-m+w+(n-r)*(s+i);return e.set(0,0,d),e.set(0,1,p),e.set(1,0,y),e.set(1,1,b),e}strassen3x3(t){t=l.checkMatrix(t);let e=new l(3,3);const r=this.get(0,0),s=this.get(0,1),o=this.get(0,2),i=this.get(1,0),n=this.get(1,1),h=this.get(1,2),u=this.get(2,0),a=this.get(2,1),c=this.get(2,2),m=t.get(0,0),w=t.get(0,1),f=t.get(0,2),g=t.get(1,0),d=t.get(1,1),p=t.get(1,2),y=t.get(2,0),b=t.get(2,1),x=t.get(2,2),R=(r-i)*(-w+d),M=(-r+i+n)*(m-w+d),k=(i+n)*(-m+w),E=r*m,v=(-r+u+a)*(m-f+p),C=(-r+u)*(f-p),I=(u+a)*(-m+f),A=(-o+a+c)*(d+y-b),T=(o-c)*(d-b),V=o*y,j=(a+c)*(-y+b),S=(-o+n+h)*(p+y-x),F=(o-h)*(p-x),$=(n+h)*(-y+x),B=E+V+s*g,N=(r+s+o-i-n-a-c)*d+M+k+E+A+V+j,q=E+v+I+(r+s+o-n-h-u-a)*p+V+S+$,D=R+n*(-m+w+g-d-p-y+x)+M+E+V+S+F,z=R+M+k+E+h*b,O=V+S+F+$+i*f,P=E+v+C+a*(-m+f+g-d-p-y+b)+A+T+V,_=A+T+V+j+u*w,J=E+v+C+I+c*x;return e.set(0,0,B),e.set(0,1,N),e.set(0,2,q),e.set(1,0,D),e.set(1,1,z),e.set(1,2,O),e.set(2,0,P),e.set(2,1,_),e.set(2,2,J),e}mmulStrassen(t){t=l.checkMatrix(t);let e=this.clone(),r=e.rows,s=e.columns,o=t.rows,i=t.columns;function h(t,e,r){let s=t.rows,o=t.columns;if(s===e&&o===r)return t;{let s=n.zeros(e,r);return s=s.setSubMatrix(t,0,0)}}s!==o&&console.warn(`Multiplying ${r} x ${s} and ${o} x ${i} matrix: dimensions do not match.`);let u=Math.max(r,o),a=Math.max(s,i);return function t(e,r,s,o){if(s<=512||o<=512)return e.mmul(r);s%2==1&&o%2==1?(e=h(e,s+1,o+1),r=h(r,s+1,o+1)):s%2==1?(e=h(e,s+1,o),r=h(r,s+1,o)):o%2==1&&(e=h(e,s,o+1),r=h(r,s,o+1));let i=parseInt(e.rows/2,10),l=parseInt(e.columns/2,10),u=e.subMatrix(0,i-1,0,l-1),a=r.subMatrix(0,i-1,0,l-1),c=e.subMatrix(0,i-1,l,e.columns-1),m=r.subMatrix(0,i-1,l,r.columns-1),w=e.subMatrix(i,e.rows-1,0,l-1),f=r.subMatrix(i,r.rows-1,0,l-1),g=e.subMatrix(i,e.rows-1,l,e.columns-1),d=r.subMatrix(i,r.rows-1,l,r.columns-1),p=t(n.add(u,g),n.add(a,d),i,l),y=t(n.add(w,g),a,i,l),b=t(u,n.sub(m,d),i,l),x=t(g,n.sub(f,a),i,l),R=t(n.add(u,c),d,i,l),M=t(n.sub(w,u),n.add(a,m),i,l),k=t(n.sub(c,g),n.add(f,d),i,l),E=n.add(p,x);E.sub(R),E.add(k);let v=n.add(b,R),C=n.add(y,x),I=n.sub(p,y);I.add(b),I.add(M);let A=n.zeros(2*E.rows,2*E.columns);return(A=(A=(A=(A=A.setSubMatrix(E,0,0)).setSubMatrix(v,E.rows,0)).setSubMatrix(C,0,E.columns)).setSubMatrix(I,E.rows,E.columns)).subMatrix(0,s-1,0,o-1)}(e=h(e,u,a),t=h(t,u,a),u,a)}scaleRows(e={}){if("object"!=typeof e)throw new TypeError("options must be an object");const{min:r=0,max:s=1}=e;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(s))throw new TypeError("max must be a number");if(r>=s)throw new RangeError("min must be smaller than max");let o=new l(this.rows,this.columns);for(let i=0;i<this.rows;i++){const e=this.getRow(i);(0,t.default)(e,{min:r,max:s,output:e}),o.setRow(i,e)}return o}scaleColumns(e={}){if("object"!=typeof e)throw new TypeError("options must be an object");const{min:r=0,max:s=1}=e;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(s))throw new TypeError("max must be a number");if(r>=s)throw new RangeError("min must be smaller than max");let o=new l(this.rows,this.columns);for(let i=0;i<this.columns;i++){const e=this.getColumn(i);(0,t.default)(e,{min:r,max:s,output:e}),o.setColumn(i,e)}return o}flipRows(){const t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let r=0;r<t;r++){let t=this.get(e,r),s=this.get(e,this.columns-1-r);this.set(e,r,s),this.set(e,this.columns-1-r,t)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let r=0;r<t;r++){let t=this.get(r,e),s=this.get(this.rows-1-r,e);this.set(r,e,s),this.set(this.rows-1-r,e,t)}return this}kroneckerProduct(t){t=l.checkMatrix(t);let e=this.rows,r=this.columns,s=t.rows,o=t.columns,i=new l(e*s,r*o);for(let n=0;n<e;n++)for(let e=0;e<r;e++)for(let r=0;r<s;r++)for(let h=0;h<o;h++)i.set(s*n+r,o*e+h,this.get(n,e)*t.get(r,h));return i}transpose(){let t=new l(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}sortRows(t=h){for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t=h){for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,r,s,o){(0,e.checkRange)(this,t,r,s,o);let i=new l(r-t+1,o-s+1);for(let e=t;e<=r;e++)for(let r=s;r<=o;r++)i.set(e-t,r-s,this.get(e,r));return i}subMatrixRow(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");let s=new l(t.length,r-e+1);for(let o=0;o<t.length;o++)for(let i=e;i<=r;i++){if(t[o]<0||t[o]>=this.rows)throw new RangeError(`Row index out of range: ${t[o]}`);s.set(o,i-e,this.get(t[o],i))}return s}subMatrixColumn(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");let s=new l(r-e+1,t.length);for(let o=0;o<t.length;o++)for(let i=e;i<=r;i++){if(t[o]<0||t[o]>=this.columns)throw new RangeError(`Column index out of range: ${t[o]}`);s.set(i-e,o,this.get(i,t[o]))}return s}setSubMatrix(t,r,s){let o=r+(t=l.checkMatrix(t)).rows-1,i=s+t.columns-1;(0,e.checkRange)(this,r,o,s,i);for(let e=0;e<t.rows;e++)for(let o=0;o<t.columns;o++)this.set(r+e,s+o,t.get(e,o));return this}selection(t,r){let s=(0,e.checkIndices)(this,t,r),o=new l(t.length,r.length);for(let e=0;e<s.row.length;e++){let t=s.row[e];for(let r=0;r<s.column.length;r++){let i=s.column[r];o.set(e,r,this.get(t,i))}}return o}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let r=0;r<t;r++)e+=this.get(r,r);return e}clone(){let t=new l(this.rows,this.columns);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.set(e,r,this.get(e,r));return t}sum(t){switch(t){case"row":return(0,r.sumByRow)(this);case"column":return(0,r.sumByColumn)(this);case void 0:return(0,r.sumAll)(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return(0,r.productByRow)(this);case"column":return(0,r.productByColumn)(this);case void 0:return(0,r.productAll)(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const e=this.sum(t);switch(t){case"row":for(let t=0;t<this.rows;t++)e[t]/=this.columns;return e;case"column":for(let t=0;t<this.columns;t++)e[t]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{unbiased:s=!0,mean:o=this.mean(t)}=e;if("boolean"!=typeof s)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!Array.isArray(o))throw new TypeError("mean must be an array");return(0,r.varianceByRow)(this,s,o);case"column":if(!Array.isArray(o))throw new TypeError("mean must be an array");return(0,r.varianceByColumn)(this,s,o);case void 0:if("number"!=typeof o)throw new TypeError("mean must be a number");return(0,r.varianceAll)(this,s,o);default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,e){"object"==typeof t&&(e=t,t=void 0);const r=this.variance(t,e);if(void 0===t)return Math.sqrt(r);for(let s=0;s<r.length;s++)r[s]=Math.sqrt(r[s]);return r}center(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{center:s=this.mean(t)}=e;switch(t){case"row":if(!Array.isArray(s))throw new TypeError("center must be an array");return(0,r.centerByRow)(this,s),this;case"column":if(!Array.isArray(s))throw new TypeError("center must be an array");return(0,r.centerByColumn)(this,s),this;case void 0:if("number"!=typeof s)throw new TypeError("center must be a number");return(0,r.centerAll)(this,s),this;default:throw new Error(`invalid option: ${t}`)}}scale(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");let s=e.scale;switch(t){case"row":if(void 0===s)s=(0,r.getScaleByRow)(this);else if(!Array.isArray(s))throw new TypeError("scale must be an array");return(0,r.scaleByRow)(this,s),this;case"column":if(void 0===s)s=(0,r.getScaleByColumn)(this);else if(!Array.isArray(s))throw new TypeError("scale must be an array");return(0,r.scaleByColumn)(this,s),this;case void 0:if(void 0===s)s=(0,r.getScaleAll)(this);else if("number"!=typeof s)throw new TypeError("scale must be a number");return(0,r.scaleAll)(this,s),this;default:throw new Error(`invalid option: ${t}`)}}}function h(t,e){return t-e}exports.AbstractMatrix=n,n.prototype.klass="Matrix","undefined"!=typeof Symbol&&(n.prototype[Symbol.for("nodejs.util.inspect.custom")]=s.inspectMatrix),n.random=n.rand,n.randomInt=n.randInt,n.diagonal=n.diag,n.prototype.diagonal=n.prototype.diag,n.identity=n.eye,n.prototype.negate=n.prototype.neg,n.prototype.tensorProduct=n.prototype.kroneckerProduct;class l extends n{constructor(t,e){if(super(),l.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>0){if(this.data=[],!(Number.isInteger(e)&&e>0))throw new TypeError("nColumns must be a positive integer");for(let r=0;r<t;r++)this.data.push(new Float64Array(e))}else{if(!Array.isArray(t))throw new TypeError("First argument must be a positive number or an array");{const r=t;if(t=r.length,"number"!=typeof(e=r[0].length)||0===e)throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let s=0;s<t;s++){if(r[s].length!==e)throw new RangeError("Inconsistent array dimensions");this.data.push(Float64Array.from(r[s]))}}}return this.rows=t,this.columns=e,this}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}removeRow(t){if((0,e.checkRowIndex)(this,t),1===this.rows)throw new RangeError("A matrix cannot have less than one row");return this.data.splice(t,1),this.rows-=1,this}addRow(t,r){return void 0===r&&(r=t,t=this.rows),(0,e.checkRowIndex)(this,t,!0),r=Float64Array.from((0,e.checkRowVector)(this,r,!0)),this.data.splice(t,0,r),this.rows+=1,this}removeColumn(t){if((0,e.checkColumnIndex)(this,t),1===this.columns)throw new RangeError("A matrix cannot have less than one column");for(let e=0;e<this.rows;e++){const r=new Float64Array(this.columns-1);for(let s=0;s<t;s++)r[s]=this.data[e][s];for(let s=t+1;s<this.columns;s++)r[s-1]=this.data[e][s];this.data[e]=r}return this.columns-=1,this}addColumn(t,r){void 0===r&&(r=t,t=this.columns),(0,e.checkColumnIndex)(this,t,!0),r=(0,e.checkColumnVector)(this,r);for(let e=0;e<this.rows;e++){const s=new Float64Array(this.columns+1);let o=0;for(;o<t;o++)s[o]=this.data[e][o];for(s[o++]=r[e];o<this.columns+1;o++)s[o]=this.data[e][o-1];this.data[e]=s}return this.columns+=1,this}}exports.default=l,(0,o.installMathOperations)(n,l);
},{"ml-array-rescale":"LLeq","./util":"XMpo","./stat":"TL7h","./inspect":"Ob2E","./mathOperations":"gYEj"}],"ZLXi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../matrix");class e extends t.AbstractMatrix{constructor(t,e,r){super(),this.matrix=t,this.rows=e,this.columns=r}}exports.default=e;
},{"../matrix":"M9sK"}],"L97m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util"),t=r(require("./base"));function r(e){return e&&e.__esModule?e:{default:e}}class s extends t.default{constructor(t,r){(0,e.checkColumnIndex)(t,r),super(t,t.rows,1),this.column=r}set(e,t,r){return this.matrix.set(e,this.column,r),this}get(e){return this.matrix.get(e,this.column)}}exports.default=s;
},{"../util":"XMpo","./base":"ZLXi"}],"fOfz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util"),t=s(require("./base"));function s(e){return e&&e.__esModule?e:{default:e}}class r extends t.default{constructor(t,s){s=(0,e.checkColumnIndices)(t,s),super(t,t.rows,s.length),this.columnIndices=s}set(e,t,s){return this.matrix.set(e,this.columnIndices[t],s),this}get(e,t){return this.matrix.get(e,this.columnIndices[t])}}exports.default=r;
},{"../util":"XMpo","./base":"ZLXi"}],"cdLx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./base"));function t(e){return e&&e.__esModule?e:{default:e}}class s extends e.default{constructor(e){super(e,e.rows,e.columns)}set(e,t,s){return this.matrix.set(e,this.columns-t-1,s),this}get(e,t){return this.matrix.get(e,this.columns-t-1)}}exports.default=s;
},{"./base":"ZLXi"}],"fUoc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./base"));function t(e){return e&&e.__esModule?e:{default:e}}class s extends e.default{constructor(e){super(e,e.rows,e.columns)}set(e,t,s){return this.matrix.set(this.rows-e-1,t,s),this}get(e,t){return this.matrix.get(this.rows-e-1,t)}}exports.default=s;
},{"./base":"ZLXi"}],"j2ru":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util"),t=r(require("./base"));function r(e){return e&&e.__esModule?e:{default:e}}class s extends t.default{constructor(t,r){(0,e.checkRowIndex)(t,r),super(t,1,t.columns),this.row=r}set(e,t,r){return this.matrix.set(this.row,t,r),this}get(e,t){return this.matrix.get(this.row,t)}}exports.default=s;
},{"../util":"XMpo","./base":"ZLXi"}],"gAqk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util"),t=s(require("./base"));function s(e){return e&&e.__esModule?e:{default:e}}class r extends t.default{constructor(t,s){super(t,(s=(0,e.checkRowIndices)(t,s)).length,t.columns),this.rowIndices=s}set(e,t,s){return this.matrix.set(this.rowIndices[e],t,s),this}get(e,t){return this.matrix.get(this.rowIndices[e],t)}}exports.default=r;
},{"../util":"XMpo","./base":"ZLXi"}],"Gs3S":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util"),t=s(require("./base"));function s(e){return e&&e.__esModule?e:{default:e}}class r extends t.default{constructor(t,s,r){let i=(0,e.checkIndices)(t,s,r);super(t,i.row.length,i.column.length),this.rowIndices=i.row,this.columnIndices=i.column}set(e,t,s){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],s),this}get(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}exports.default=r;
},{"../util":"XMpo","./base":"ZLXi"}],"USxQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util"),e=s(require("./base"));function s(t){return t&&t.__esModule?t:{default:t}}class r extends e.default{constructor(e,s,r,u,i){(0,t.checkRange)(e,s,r,u,i),super(e,r-s+1,i-u+1),this.startRow=s,this.startColumn=u}set(t,e,s){return this.matrix.set(this.startRow+t,this.startColumn+e,s),this}get(t,e){return this.matrix.get(this.startRow+t,this.startColumn+e)}}exports.default=r;
},{"../util":"XMpo","./base":"ZLXi"}],"QVGY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./base"));function t(e){return e&&e.__esModule?e:{default:e}}class r extends e.default{constructor(e){super(e,e.columns,e.rows)}set(e,t,r){return this.matrix.set(t,e,r),this}get(e,t){return this.matrix.get(t,e)}}exports.default=r;
},{"./base":"ZLXi"}],"vL2K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"MatrixColumnView",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"MatrixColumnSelectionView",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"MatrixFlipColumnView",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"MatrixFlipRowView",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"MatrixRowView",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"MatrixRowSelectionView",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"MatrixSelectionView",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"MatrixSubView",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"MatrixTransposeView",{enumerable:!0,get:function(){return a.default}});var e=f(require("./column")),r=f(require("./columnSelection")),t=f(require("./flipColumn")),n=f(require("./flipRow")),u=f(require("./row")),i=f(require("./rowSelection")),o=f(require("./selection")),l=f(require("./sub")),a=f(require("./transpose"));function f(e){return e&&e.__esModule?e:{default:e}}
},{"./column":"L97m","./columnSelection":"fOfz","./flipColumn":"cdLx","./flipRow":"fUoc","./row":"j2ru","./rowSelection":"gAqk","./selection":"Gs3S","./sub":"USxQ","./transpose":"QVGY"}],"nSg8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../matrix");class e extends t.AbstractMatrix{constructor(t,e={}){const{rows:s=1}=e;if(t.length%s!=0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=s,this.columns=t.length/s,this.data=t}set(t,e,s){let r=this._calculateIndex(t,e);return this.data[r]=s,this}get(t,e){let s=this._calculateIndex(t,e);return this.data[s]}_calculateIndex(t,e){return t*this.columns+e}}exports.default=e;
},{"../matrix":"M9sK"}],"Cl7u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../matrix");class e extends t.AbstractMatrix{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,s){return this.data[t][e]=s,this}get(t,e){return this.data[t][e]}}exports.default=e;
},{"../matrix":"M9sK"}],"lmEE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.wrap=a;var r=t(require("./WrapperMatrix1D")),e=t(require("./WrapperMatrix2D"));function t(r){return r&&r.__esModule?r:{default:r}}function a(t,a){if(Array.isArray(t))return t[0]&&Array.isArray(t[0])?new e.default(t):new r.default(t,a);throw new Error("the argument is not an array")}
},{"./WrapperMatrix1D":"nSg8","./WrapperMatrix2D":"Cl7u"}],"w0TF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../matrix")),e=r(require("../wrap/WrapperMatrix2D"));function r(t){return t&&t.__esModule?t:{default:t}}class o{constructor(t){let r,o,s,i,a,l,n,u,f,g=(t=e.default.checkMatrix(t)).clone(),c=g.rows,h=g.columns,w=new Float64Array(c),m=1;for(r=0;r<c;r++)w[r]=r;for(u=new Float64Array(c),o=0;o<h;o++){for(r=0;r<c;r++)u[r]=g.get(r,o);for(r=0;r<c;r++){for(f=Math.min(r,o),a=0,s=0;s<f;s++)a+=g.get(r,s)*u[s];u[r]-=a,g.set(r,o,u[r])}for(i=o,r=o+1;r<c;r++)Math.abs(u[r])>Math.abs(u[i])&&(i=r);if(i!==o){for(s=0;s<h;s++)l=g.get(i,s),g.set(i,s,g.get(o,s)),g.set(o,s,l);n=w[i],w[i]=w[o],w[o]=n,m=-m}if(o<c&&0!==g.get(o,o))for(r=o+1;r<c;r++)g.set(r,o,g.get(r,o)/g.get(o,o))}this.LU=g,this.pivotVector=w,this.pivotSign=m}isSingular(){let t=this.LU,e=t.columns;for(let r=0;r<e;r++)if(0===t.get(r,r))return!0;return!1}solve(e){e=t.default.checkMatrix(e);let r=this.LU;if(r.rows!==e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let o,s,i,a=e.columns,l=e.subMatrixRow(this.pivotVector,0,a-1),n=r.columns;for(i=0;i<n;i++)for(o=i+1;o<n;o++)for(s=0;s<a;s++)l.set(o,s,l.get(o,s)-l.get(i,s)*r.get(o,i));for(i=n-1;i>=0;i--){for(s=0;s<a;s++)l.set(i,s,l.get(i,s)/r.get(i,i));for(o=0;o<i;o++)for(s=0;s<a;s++)l.set(o,s,l.get(o,s)-l.get(i,s)*r.get(o,i))}return l}get determinant(){let t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");let e=this.pivotSign,r=t.columns;for(let o=0;o<r;o++)e*=t.get(o,o);return e}get lowerTriangularMatrix(){let e=this.LU,r=e.rows,o=e.columns,s=new t.default(r,o);for(let t=0;t<r;t++)for(let r=0;r<o;r++)t>r?s.set(t,r,e.get(t,r)):t===r?s.set(t,r,1):s.set(t,r,0);return s}get upperTriangularMatrix(){let e=this.LU,r=e.rows,o=e.columns,s=new t.default(r,o);for(let t=0;t<r;t++)for(let r=0;r<o;r++)t<=r?s.set(t,r,e.get(t,r)):s.set(t,r,0);return s}get pivotPermutationVector(){return Array.from(this.pivotVector)}}exports.default=o;
},{"../matrix":"M9sK","../wrap/WrapperMatrix2D":"Cl7u"}],"XpUR":[function(require,module,exports) {
"use strict";function t(t,e){let s=0;return Math.abs(t)>Math.abs(e)?(s=e/t,Math.abs(t)*Math.sqrt(1+s*s)):0!==e?(s=t/e,Math.abs(e)*Math.sqrt(1+s*s)):0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.hypotenuse=t;
},{}],"vk0J":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("../matrix")),t=o(require("../wrap/WrapperMatrix2D")),r=require("./util");function o(e){return e&&e.__esModule?e:{default:e}}class s{constructor(e){let o,s,i,f,l=(e=t.default.checkMatrix(e)).clone(),u=e.rows,a=e.columns,g=new Float64Array(a);for(i=0;i<a;i++){let e=0;for(o=i;o<u;o++)e=(0,r.hypotenuse)(e,l.get(o,i));if(0!==e){for(l.get(i,i)<0&&(e=-e),o=i;o<u;o++)l.set(o,i,l.get(o,i)/e);for(l.set(i,i,l.get(i,i)+1),s=i+1;s<a;s++){for(f=0,o=i;o<u;o++)f+=l.get(o,i)*l.get(o,s);for(f=-f/l.get(i,i),o=i;o<u;o++)l.set(o,s,l.get(o,s)+f*l.get(o,i))}}g[i]=-e}this.QR=l,this.Rdiag=g}solve(t){t=e.default.checkMatrix(t);let r=this.QR,o=r.rows;if(t.rows!==o)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let s,i,f,l,u=t.columns,a=t.clone(),g=r.columns;for(f=0;f<g;f++)for(i=0;i<u;i++){for(l=0,s=f;s<o;s++)l+=r.get(s,f)*a.get(s,i);for(l=-l/r.get(f,f),s=f;s<o;s++)a.set(s,i,a.get(s,i)+l*r.get(s,f))}for(f=g-1;f>=0;f--){for(i=0;i<u;i++)a.set(f,i,a.get(f,i)/this.Rdiag[f]);for(s=0;s<f;s++)for(i=0;i<u;i++)a.set(s,i,a.get(s,i)-a.get(f,i)*r.get(s,f))}return a.subMatrix(0,g-1,0,u-1)}isFullRank(){let e=this.QR.columns;for(let t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0}get upperTriangularMatrix(){let t,r,o=this.QR,s=o.columns,i=new e.default(s,s);for(t=0;t<s;t++)for(r=0;r<s;r++)t<r?i.set(t,r,o.get(t,r)):t===r?i.set(t,r,this.Rdiag[t]):i.set(t,r,0);return i}get orthogonalMatrix(){let t,r,o,s,i=this.QR,f=i.rows,l=i.columns,u=new e.default(f,l);for(o=l-1;o>=0;o--){for(t=0;t<f;t++)u.set(t,o,0);for(u.set(o,o,1),r=o;r<l;r++)if(0!==i.get(o,o)){for(s=0,t=o;t<f;t++)s+=i.get(t,o)*u.get(t,r);for(s=-s/i.get(o,o),t=o;t<f;t++)u.set(t,r,u.get(t,r)+s*i.get(t,o))}}return u}}exports.default=s;
},{"../matrix":"M9sK","../wrap/WrapperMatrix2D":"Cl7u","./util":"XpUR"}],"oFqC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../matrix")),e=r(require("../wrap/WrapperMatrix2D")),s=require("./util");function r(t){return t&&t.__esModule?t:{default:t}}class l{constructor(r,l={}){let o=(r=e.default.checkMatrix(r)).rows,a=r.columns;const{computeLeftSingularVectors:i=!0,computeRightSingularVectors:f=!0,autoTranspose:h=!1}=l;let g,n=Boolean(i),u=Boolean(f),m=!1;if(o<a)if(h){o=(g=r.transpose()).rows,a=g.columns,m=!0;let t=n;n=u,u=t}else g=r.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else g=r.clone();let M=Math.min(o,a),c=Math.min(o+1,a),b=new Float64Array(c),d=new t.default(o,M),p=new t.default(a,a),w=new Float64Array(a),N=new Float64Array(o),x=new Float64Array(c);for(let t=0;t<c;t++)x[t]=t;let y=Math.min(o-1,a),V=Math.max(0,Math.min(a-2,o)),S=Math.max(y,V);for(let t=0;t<S;t++){if(t<y){b[t]=0;for(let e=t;e<o;e++)b[t]=(0,s.hypotenuse)(b[t],g.get(e,t));if(0!==b[t]){g.get(t,t)<0&&(b[t]=-b[t]);for(let e=t;e<o;e++)g.set(e,t,g.get(e,t)/b[t]);g.set(t,t,g.get(t,t)+1)}b[t]=-b[t]}for(let e=t+1;e<a;e++){if(t<y&&0!==b[t]){let s=0;for(let r=t;r<o;r++)s+=g.get(r,t)*g.get(r,e);s=-s/g.get(t,t);for(let r=t;r<o;r++)g.set(r,e,g.get(r,e)+s*g.get(r,t))}w[e]=g.get(t,e)}if(n&&t<y)for(let e=t;e<o;e++)d.set(e,t,g.get(e,t));if(t<V){w[t]=0;for(let e=t+1;e<a;e++)w[t]=(0,s.hypotenuse)(w[t],w[e]);if(0!==w[t]){w[t+1]<0&&(w[t]=0-w[t]);for(let e=t+1;e<a;e++)w[e]/=w[t];w[t+1]+=1}if(w[t]=-w[t],t+1<o&&0!==w[t]){for(let e=t+1;e<o;e++)N[e]=0;for(let e=t+1;e<o;e++)for(let s=t+1;s<a;s++)N[e]+=w[s]*g.get(e,s);for(let e=t+1;e<a;e++){let s=-w[e]/w[t+1];for(let r=t+1;r<o;r++)g.set(r,e,g.get(r,e)+s*N[r])}}if(u)for(let e=t+1;e<a;e++)p.set(e,t,w[e])}}let A=Math.min(a,o+1);if(y<a&&(b[y]=g.get(y,y)),o<A&&(b[A-1]=0),V+1<A&&(w[V]=g.get(V,A-1)),w[A-1]=0,n){for(let t=y;t<M;t++){for(let e=0;e<o;e++)d.set(e,t,0);d.set(t,t,1)}for(let t=y-1;t>=0;t--)if(0!==b[t]){for(let e=t+1;e<M;e++){let s=0;for(let r=t;r<o;r++)s+=d.get(r,t)*d.get(r,e);s=-s/d.get(t,t);for(let r=t;r<o;r++)d.set(r,e,d.get(r,e)+s*d.get(r,t))}for(let e=t;e<o;e++)d.set(e,t,-d.get(e,t));d.set(t,t,1+d.get(t,t));for(let e=0;e<t-1;e++)d.set(e,t,0)}else{for(let e=0;e<o;e++)d.set(e,t,0);d.set(t,t,1)}}if(u)for(let t=a-1;t>=0;t--){if(t<V&&0!==w[t])for(let e=t+1;e<a;e++){let s=0;for(let r=t+1;r<a;r++)s+=p.get(r,t)*p.get(r,e);s=-s/p.get(t+1,t);for(let r=t+1;r<a;r++)p.set(r,e,p.get(r,e)+s*p.get(r,t))}for(let e=0;e<a;e++)p.set(e,t,0);p.set(t,t,1)}let k=A-1,v=0,L=Number.EPSILON;for(;A>0;){let t,e;for(t=A-2;t>=-1&&-1!==t;t--){const e=Number.MIN_VALUE+L*Math.abs(b[t]+Math.abs(b[t+1]));if(Math.abs(w[t])<=e||Number.isNaN(w[t])){w[t]=0;break}}if(t===A-2)e=4;else{let s;for(s=A-1;s>=t&&s!==t;s--){let e=(s!==A?Math.abs(w[s]):0)+(s!==t+1?Math.abs(w[s-1]):0);if(Math.abs(b[s])<=L*e){b[s]=0;break}}s===t?e=3:s===A-1?e=1:(e=2,t=s)}switch(t++,e){case 1:{let e=w[A-2];w[A-2]=0;for(let r=A-2;r>=t;r--){let l=(0,s.hypotenuse)(b[r],e),o=b[r]/l,i=e/l;if(b[r]=l,r!==t&&(e=-i*w[r-1],w[r-1]=o*w[r-1]),u)for(let t=0;t<a;t++)l=o*p.get(t,r)+i*p.get(t,A-1),p.set(t,A-1,-i*p.get(t,r)+o*p.get(t,A-1)),p.set(t,r,l)}break}case 2:{let e=w[t-1];w[t-1]=0;for(let r=t;r<A;r++){let l=(0,s.hypotenuse)(b[r],e),a=b[r]/l,i=e/l;if(b[r]=l,e=-i*w[r],w[r]=a*w[r],n)for(let e=0;e<o;e++)l=a*d.get(e,r)+i*d.get(e,t-1),d.set(e,t-1,-i*d.get(e,r)+a*d.get(e,t-1)),d.set(e,r,l)}break}case 3:{const e=Math.max(Math.abs(b[A-1]),Math.abs(b[A-2]),Math.abs(w[A-2]),Math.abs(b[t]),Math.abs(w[t])),r=b[A-1]/e,l=b[A-2]/e,i=w[A-2]/e,f=b[t]/e,h=w[t]/e,g=((l+r)*(l-r)+i*i)/2,m=r*i*(r*i);let M=0;0===g&&0===m||(M=m/(g+(M=g<0?0-Math.sqrt(g*g+m):Math.sqrt(g*g+m))));let c=(f+r)*(f-r)+M,N=f*h;for(let x=t;x<A-1;x++){let e=(0,s.hypotenuse)(c,N);0===e&&(e=Number.MIN_VALUE);let r=c/e,l=N/e;if(x!==t&&(w[x-1]=e),c=r*b[x]+l*w[x],w[x]=r*w[x]-l*b[x],N=l*b[x+1],b[x+1]=r*b[x+1],u)for(let t=0;t<a;t++)e=r*p.get(t,x)+l*p.get(t,x+1),p.set(t,x+1,-l*p.get(t,x)+r*p.get(t,x+1)),p.set(t,x,e);if(0===(e=(0,s.hypotenuse)(c,N))&&(e=Number.MIN_VALUE),r=c/e,l=N/e,b[x]=e,c=r*w[x]+l*b[x+1],b[x+1]=-l*w[x]+r*b[x+1],N=l*w[x+1],w[x+1]=r*w[x+1],n&&x<o-1)for(let t=0;t<o;t++)e=r*d.get(t,x)+l*d.get(t,x+1),d.set(t,x+1,-l*d.get(t,x)+r*d.get(t,x+1)),d.set(t,x,e)}w[A-2]=c,v+=1;break}case 4:if(b[t]<=0&&(b[t]=b[t]<0?-b[t]:0,u))for(let e=0;e<=k;e++)p.set(e,t,-p.get(e,t));for(;t<k&&!(b[t]>=b[t+1]);){let e=b[t];if(b[t]=b[t+1],b[t+1]=e,u&&t<a-1)for(let s=0;s<a;s++)e=p.get(s,t+1),p.set(s,t+1,p.get(s,t)),p.set(s,t,e);if(n&&t<o-1)for(let s=0;s<o;s++)e=d.get(s,t+1),d.set(s,t+1,d.get(s,t)),d.set(s,t,e);t++}v=0,A--}}if(m){let t=p;p=d,d=t}this.m=o,this.n=a,this.s=b,this.U=d,this.V=p}solve(e){let s=e,r=this.threshold,l=this.s.length,o=t.default.zeros(l,l);for(let t=0;t<l;t++)Math.abs(this.s[t])<=r?o.set(t,t,0):o.set(t,t,1/this.s[t]);let a=this.U,i=this.rightSingularVectors,f=i.mmul(o),h=i.rows,g=a.rows,n=t.default.zeros(h,g);for(let t=0;t<h;t++)for(let e=0;e<g;e++){let s=0;for(let r=0;r<l;r++)s+=f.get(t,r)*a.get(e,r);n.set(t,e,s)}return n.mmul(s)}solveForDiagonal(e){return this.solve(t.default.diag(e))}inverse(){let e=this.V,s=this.threshold,r=e.rows,l=e.columns,o=new t.default(r,this.s.length);for(let t=0;t<r;t++)for(let r=0;r<l;r++)Math.abs(this.s[r])>s&&o.set(t,r,e.get(t,r)/this.s[r]);let a=this.U,i=a.rows,f=a.columns,h=new t.default(r,i);for(let t=0;t<r;t++)for(let e=0;e<i;e++){let s=0;for(let r=0;r<f;r++)s+=o.get(t,r)*a.get(e,r);h.set(t,e,s)}return h}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,s=this.s;for(let r=0,l=s.length;r<l;r++)s[r]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return t.default.diag(this.s)}}exports.default=l;
},{"../matrix":"M9sK","../wrap/WrapperMatrix2D":"Cl7u","./util":"XpUR"}],"NKzx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.inverse=l,exports.solve=d;var e=i(require("./dc/lu")),r=i(require("./dc/qr")),t=i(require("./dc/svd")),u=i(require("./matrix")),a=i(require("./wrap/WrapperMatrix2D"));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,r=!1){return e=a.default.checkMatrix(e),r?new t.default(e).inverse():d(e,u.default.eye(e.rows))}function d(u,i,l=!1){return u=a.default.checkMatrix(u),i=a.default.checkMatrix(i),l?new t.default(u).solve(i):u.isSquare()?new e.default(u).solve(i):new r.default(u).solve(i)}
},{"./dc/lu":"w0TF","./dc/qr":"vk0J","./dc/svd":"oFqC","./matrix":"M9sK","./wrap/WrapperMatrix2D":"Cl7u"}],"VxkP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.determinant=n;var e=u(require("./matrix")),t=u(require("./dc/lu")),r=u(require("./views/selection"));function u(e){return e&&e.__esModule?e:{default:e}}function n(u){if((u=e.default.checkMatrix(u)).isSquare()){let e,a,i,l;if(2===u.columns)return e=u.get(0,0),a=u.get(0,1),i=u.get(1,0),e*(l=u.get(1,1))-a*i;if(3===u.columns){let t,l,d;return t=new r.default(u,[1,2],[1,2]),l=new r.default(u,[1,2],[0,2]),d=new r.default(u,[1,2],[0,1]),e=u.get(0,0),a=u.get(0,1),i=u.get(0,2),e*n(t)-a*n(l)+i*n(d)}return new t.default(u).determinant}throw Error("determinant can only be calculated for a square matrix")}
},{"./matrix":"M9sK","./dc/lu":"w0TF","./views/selection":"Gs3S"}],"KL3f":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.linearDependencies=l;var e=r(require("./matrix")),t=r(require("./dc/svd"));function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){let r=[];for(let o=0;o<e;o++)o!==t&&r.push(o);return r}function u(e,t,r,o=1e-9,u=1e-9){if(e>u)return new Array(t.rows+1).fill(0);{let e=t.addRow(r,[0]);for(let t=0;t<e.rows;t++)Math.abs(e.get(t,0))<o&&e.set(t,0,0);return e.to1DArray()}}function l(r,l={}){const{thresholdValue:s=1e-9,thresholdError:n=1e-9}=l;let a=(r=e.default.checkMatrix(r)).rows,d=new e.default(a,a);for(let f=0;f<a;f++){let l=e.default.columnVector(r.getRow(f)),i=r.subMatrixRow(o(a,f)).transpose(),c=new t.default(i).solve(l),w=e.default.sub(l,i.mmul(c)).abs().max();d.setRow(f,u(w,c,f,s,n))}return d}
},{"./matrix":"M9sK","./dc/svd":"oFqC"}],"BdFj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pseudoInverse=u;var e=t(require("./dc/svd")),r=t(require("./matrix"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t,u=Number.EPSILON){t=r.default.checkMatrix(t);let a=new e.default(t,{autoTranspose:!0}),l=a.leftSingularVectors,s=a.rightSingularVectors,n=a.diagonal;for(let e=0;e<n.length;e++)Math.abs(n[e])>u?n[e]=1/n[e]:n[e]=0;return s.mmul(r.default.diag(n).mmul(l.transpose()))}
},{"./dc/svd":"oFqC","./matrix":"M9sK"}],"gR9P":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.covariance=t;var e=r(require("./matrix"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r,t=r,o={}){r=e.default.checkMatrix(r);let s=!1;if("object"!=typeof t||e.default.isMatrix(t)||Array.isArray(t)?t=e.default.checkMatrix(t):(o=t,t=r,s=!0),r.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:c=!0}=o;c&&(r=r.center("column"),s||(t=t.center("column")));const n=r.transpose().mmul(t);for(let e=0;e<n.rows;e++)for(let t=0;t<n.columns;t++)n.set(e,t,n.get(e,t)*(1/(r.rows-1)));return n}
},{"./matrix":"M9sK"}],"RLxS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.correlation=t;var e=r(require("./matrix"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r,t=r,o={}){r=e.default.checkMatrix(r);let n=!1;if("object"!=typeof t||e.default.isMatrix(t)||Array.isArray(t)?t=e.default.checkMatrix(t):(o=t,t=r,n=!0),r.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:s=!0,scale:a=!0}=o;s&&(r.center("column"),n||t.center("column")),a&&(r.scale("column"),n||t.scale("column"));const c=r.standardDeviation("column",{unbiased:!0}),u=n?c:t.standardDeviation("column",{unbiased:!0}),l=r.transpose().mmul(t);for(let e=0;e<l.rows;e++)for(let t=0;t<l.columns;t++)l.set(e,t,l.get(e,t)*(1/(c[e]*u[t]))*(1/(r.rows-1)));return l}
},{"./matrix":"M9sK"}],"vWSd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../matrix")),e=r(require("../wrap/WrapperMatrix2D")),s=require("./util");function r(t){return t&&t.__esModule?t:{default:t}}class a{constructor(s,r={}){const{assumeSymmetric:a=!1}=r;if(!(s=e.default.checkMatrix(s)).isSquare())throw new Error("Matrix is not a square matrix");let i,M,b=s.columns,n=new t.default(b,b),l=new Float64Array(b),u=new Float64Array(b),c=s,m=!1;if(m=!!a||s.isSymmetric()){for(i=0;i<b;i++)for(M=0;M<b;M++)n.set(i,M,c.get(i,M));g(b,u,l,n),f(b,u,l,n)}else{let e=new t.default(b,b),s=new Float64Array(b);for(M=0;M<b;M++)for(i=0;i<b;i++)e.set(i,M,c.get(i,M));o(b,e,s,n),h(b,u,l,n,e)}this.n=b,this.e=u,this.d=l,this.V=n}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let e,s,r=this.n,a=this.e,g=this.d,f=new t.default(r,r);for(e=0;e<r;e++){for(s=0;s<r;s++)f.set(e,s,0);f.set(e,e,g[e]),a[e]>0?f.set(e,e+1,a[e]):a[e]<0&&f.set(e,e-1,a[e])}return f}}function g(t,e,s,r){let a,g,f,o,h,i,M,b;for(h=0;h<t;h++)s[h]=r.get(t-1,h);for(o=t-1;o>0;o--){for(b=0,f=0,i=0;i<o;i++)b+=Math.abs(s[i]);if(0===b)for(e[o]=s[o-1],h=0;h<o;h++)s[h]=r.get(o-1,h),r.set(o,h,0),r.set(h,o,0);else{for(i=0;i<o;i++)s[i]/=b,f+=s[i]*s[i];for(a=s[o-1],g=Math.sqrt(f),a>0&&(g=-g),e[o]=b*g,f-=a*g,s[o-1]=a-g,h=0;h<o;h++)e[h]=0;for(h=0;h<o;h++){for(a=s[h],r.set(h,o,a),g=e[h]+r.get(h,h)*a,i=h+1;i<=o-1;i++)g+=r.get(i,h)*s[i],e[i]+=r.get(i,h)*a;e[h]=g}for(a=0,h=0;h<o;h++)e[h]/=f,a+=e[h]*s[h];for(M=a/(f+f),h=0;h<o;h++)e[h]-=M*s[h];for(h=0;h<o;h++){for(a=s[h],g=e[h],i=h;i<=o-1;i++)r.set(i,h,r.get(i,h)-(a*e[i]+g*s[i]));s[h]=r.get(o-1,h),r.set(o,h,0)}}s[o]=f}for(o=0;o<t-1;o++){if(r.set(t-1,o,r.get(o,o)),r.set(o,o,1),0!==(f=s[o+1])){for(i=0;i<=o;i++)s[i]=r.get(i,o+1)/f;for(h=0;h<=o;h++){for(g=0,i=0;i<=o;i++)g+=r.get(i,o+1)*r.get(i,h);for(i=0;i<=o;i++)r.set(i,h,r.get(i,h)-g*s[i])}}for(i=0;i<=o;i++)r.set(i,o+1,0)}for(h=0;h<t;h++)s[h]=r.get(t-1,h),r.set(t-1,h,0);r.set(t-1,t-1,1),e[0]=0}function f(t,e,r,a){let g,f,o,h,i,M,b,n,l,u,c,m,d,x,q,y,w;for(o=1;o<t;o++)e[o-1]=e[o];e[t-1]=0;let p=0,v=0,A=Number.EPSILON;for(M=0;M<t;M++){for(v=Math.max(v,Math.abs(r[M])+Math.abs(e[M])),b=M;b<t&&!(Math.abs(e[b])<=A*v);)b++;if(b>M){w=0;do{for(w+=1,g=r[M],n=(r[M+1]-g)/(2*e[M]),l=(0,s.hypotenuse)(n,1),n<0&&(l=-l),r[M]=e[M]/(n+l),r[M+1]=e[M]*(n+l),u=r[M+1],f=g-r[M],o=M+2;o<t;o++)r[o]-=f;for(p+=f,n=r[b],m=c=1,d=c,x=e[M+1],q=0,y=0,o=b-1;o>=M;o--)for(d=m,m=c,y=q,g=c*e[o],f=c*n,l=(0,s.hypotenuse)(n,e[o]),e[o+1]=q*l,q=e[o]/l,n=(c=n/l)*r[o]-q*g,r[o+1]=f+q*(c*g+q*r[o]),i=0;i<t;i++)f=a.get(i,o+1),a.set(i,o+1,q*a.get(i,o)+c*f),a.set(i,o,c*a.get(i,o)-q*f);n=-q*y*d*x*e[M]/u,e[M]=q*n,r[M]=c*n}while(Math.abs(e[M])>A*v)}r[M]=r[M]+p,e[M]=0}for(o=0;o<t-1;o++){for(i=o,n=r[o],h=o+1;h<t;h++)r[h]<n&&(i=h,n=r[h]);if(i!==o)for(r[i]=r[o],r[o]=n,h=0;h<t;h++)n=a.get(h,o),a.set(h,o,a.get(h,i)),a.set(h,i,n)}}function o(t,e,s,r){let a,g,f,o,h,i,M,b=t-1;for(i=1;i<=b-1;i++){for(M=0,o=i;o<=b;o++)M+=Math.abs(e.get(o,i-1));if(0!==M){for(f=0,o=b;o>=i;o--)s[o]=e.get(o,i-1)/M,f+=s[o]*s[o];for(g=Math.sqrt(f),s[i]>0&&(g=-g),f-=s[i]*g,s[i]=s[i]-g,h=i;h<t;h++){for(a=0,o=b;o>=i;o--)a+=s[o]*e.get(o,h);for(a/=f,o=i;o<=b;o++)e.set(o,h,e.get(o,h)-a*s[o])}for(o=0;o<=b;o++){for(a=0,h=b;h>=i;h--)a+=s[h]*e.get(o,h);for(a/=f,h=i;h<=b;h++)e.set(o,h,e.get(o,h)-a*s[h])}s[i]=M*s[i],e.set(i,i-1,M*g)}}for(o=0;o<t;o++)for(h=0;h<t;h++)r.set(o,h,o===h?1:0);for(i=b-1;i>=1;i--)if(0!==e.get(i,i-1)){for(o=i+1;o<=b;o++)s[o]=e.get(o,i-1);for(h=i;h<=b;h++){for(g=0,o=i;o<=b;o++)g+=s[o]*r.get(o,h);for(g=g/s[i]/e.get(i,i-1),o=i;o<=b;o++)r.set(o,h,r.get(o,h)+g*s[o])}}}function h(t,e,s,r,a){let g,f,o,h,M,b,n,l,u,c,m,d,x,q,y,w=t-1,p=t-1,v=Number.EPSILON,A=0,E=0,S=0,N=0,_=0,F=0,O=0,P=0;for(g=0;g<t;g++)for((g<0||g>p)&&(s[g]=a.get(g,g),e[g]=0),f=Math.max(g-1,0);f<t;f++)E+=Math.abs(a.get(g,f));for(;w>=0;){for(h=w;h>0&&(0===(F=Math.abs(a.get(h-1,h-1))+Math.abs(a.get(h,h)))&&(F=E),!(Math.abs(a.get(h,h-1))<v*F));)h--;if(h===w)a.set(w,w,a.get(w,w)+A),s[w]=a.get(w,w),e[w]=0,w--,P=0;else if(h===w-1){if(n=a.get(w,w-1)*a.get(w-1,w),N=(S=(a.get(w-1,w-1)-a.get(w,w))/2)*S+n,O=Math.sqrt(Math.abs(N)),a.set(w,w,a.get(w,w)+A),a.set(w-1,w-1,a.get(w-1,w-1)+A),l=a.get(w,w),N>=0){for(O=S>=0?S+O:S-O,s[w-1]=l+O,s[w]=s[w-1],0!==O&&(s[w]=l-n/O),e[w-1]=0,e[w]=0,S=(l=a.get(w,w-1))/(F=Math.abs(l)+Math.abs(O)),N=O/F,S/=_=Math.sqrt(S*S+N*N),N/=_,f=w-1;f<t;f++)O=a.get(w-1,f),a.set(w-1,f,N*O+S*a.get(w,f)),a.set(w,f,N*a.get(w,f)-S*O);for(g=0;g<=w;g++)O=a.get(g,w-1),a.set(g,w-1,N*O+S*a.get(g,w)),a.set(g,w,N*a.get(g,w)-S*O);for(g=0;g<=p;g++)O=r.get(g,w-1),r.set(g,w-1,N*O+S*r.get(g,w)),r.set(g,w,N*r.get(g,w)-S*O)}else s[w-1]=l+S,s[w]=l+S,e[w-1]=O,e[w]=-O;w-=2,P=0}else{if(l=a.get(w,w),u=0,n=0,h<w&&(u=a.get(w-1,w-1),n=a.get(w,w-1)*a.get(w-1,w)),10===P){for(A+=l,g=0;g<=w;g++)a.set(g,g,a.get(g,g)-l);l=u=.75*(F=Math.abs(a.get(w,w-1))+Math.abs(a.get(w-1,w-2))),n=-.4375*F*F}if(30===P&&(F=(F=(u-l)/2)*F+n)>0){for(F=Math.sqrt(F),u<l&&(F=-F),F=l-n/((u-l)/2+F),g=0;g<=w;g++)a.set(g,g,a.get(g,g)-F);A+=F,l=u=n=.964}for(P+=1,M=w-2;M>=h&&(S=((_=l-(O=a.get(M,M)))*(F=u-O)-n)/a.get(M+1,M)+a.get(M,M+1),N=a.get(M+1,M+1)-O-_-F,_=a.get(M+2,M+1),S/=F=Math.abs(S)+Math.abs(N)+Math.abs(_),N/=F,_/=F,M!==h)&&!(Math.abs(a.get(M,M-1))*(Math.abs(N)+Math.abs(_))<v*(Math.abs(S)*(Math.abs(a.get(M-1,M-1))+Math.abs(O)+Math.abs(a.get(M+1,M+1)))));)M--;for(g=M+2;g<=w;g++)a.set(g,g-2,0),g>M+2&&a.set(g,g-3,0);for(o=M;o<=w-1&&(q=o!==w-1,o!==M&&(S=a.get(o,o-1),N=a.get(o+1,o-1),_=q?a.get(o+2,o-1):0,0!==(l=Math.abs(S)+Math.abs(N)+Math.abs(_))&&(S/=l,N/=l,_/=l)),0!==l);o++)if(F=Math.sqrt(S*S+N*N+_*_),S<0&&(F=-F),0!==F){for(o!==M?a.set(o,o-1,-F*l):h!==M&&a.set(o,o-1,-a.get(o,o-1)),l=(S+=F)/F,u=N/F,O=_/F,N/=S,_/=S,f=o;f<t;f++)S=a.get(o,f)+N*a.get(o+1,f),q&&(S+=_*a.get(o+2,f),a.set(o+2,f,a.get(o+2,f)-S*O)),a.set(o,f,a.get(o,f)-S*l),a.set(o+1,f,a.get(o+1,f)-S*u);for(g=0;g<=Math.min(w,o+3);g++)S=l*a.get(g,o)+u*a.get(g,o+1),q&&(S+=O*a.get(g,o+2),a.set(g,o+2,a.get(g,o+2)-S*_)),a.set(g,o,a.get(g,o)-S),a.set(g,o+1,a.get(g,o+1)-S*N);for(g=0;g<=p;g++)S=l*r.get(g,o)+u*r.get(g,o+1),q&&(S+=O*r.get(g,o+2),r.set(g,o+2,r.get(g,o+2)-S*_)),r.set(g,o,r.get(g,o)-S),r.set(g,o+1,r.get(g,o+1)-S*N)}}}if(0!==E){for(w=t-1;w>=0;w--)if(S=s[w],0===(N=e[w]))for(h=w,a.set(w,w,1),g=w-1;g>=0;g--){for(n=a.get(g,g)-S,_=0,f=h;f<=w;f++)_+=a.get(g,f)*a.get(f,w);if(e[g]<0)O=n,F=_;else if(h=g,0===e[g]?a.set(g,w,0!==n?-_/n:-_/(v*E)):(l=a.get(g,g+1),u=a.get(g+1,g),b=(l*F-O*_)/(N=(s[g]-S)*(s[g]-S)+e[g]*e[g]),a.set(g,w,b),a.set(g+1,w,Math.abs(l)>Math.abs(O)?(-_-n*b)/l:(-F-u*b)/O)),v*(b=Math.abs(a.get(g,w)))*b>1)for(f=g;f<=w;f++)a.set(f,w,a.get(f,w)/b)}else if(N<0)for(h=w-1,Math.abs(a.get(w,w-1))>Math.abs(a.get(w-1,w))?(a.set(w-1,w-1,N/a.get(w,w-1)),a.set(w-1,w,-(a.get(w,w)-S)/a.get(w,w-1))):(y=i(0,-a.get(w-1,w),a.get(w-1,w-1)-S,N),a.set(w-1,w-1,y[0]),a.set(w-1,w,y[1])),a.set(w,w-1,0),a.set(w,w,1),g=w-2;g>=0;g--){for(c=0,m=0,f=h;f<=w;f++)c+=a.get(g,f)*a.get(f,w-1),m+=a.get(g,f)*a.get(f,w);if(n=a.get(g,g)-S,e[g]<0)O=n,_=c,F=m;else if(h=g,0===e[g]?(y=i(-c,-m,n,N),a.set(g,w-1,y[0]),a.set(g,w,y[1])):(l=a.get(g,g+1),u=a.get(g+1,g),d=(s[g]-S)*(s[g]-S)+e[g]*e[g]-N*N,x=2*(s[g]-S)*N,0===d&&0===x&&(d=v*E*(Math.abs(n)+Math.abs(N)+Math.abs(l)+Math.abs(u)+Math.abs(O))),y=i(l*_-O*c+N*m,l*F-O*m-N*c,d,x),a.set(g,w-1,y[0]),a.set(g,w,y[1]),Math.abs(l)>Math.abs(O)+Math.abs(N)?(a.set(g+1,w-1,(-c-n*a.get(g,w-1)+N*a.get(g,w))/l),a.set(g+1,w,(-m-n*a.get(g,w)-N*a.get(g,w-1))/l)):(y=i(-_-u*a.get(g,w-1),-F-u*a.get(g,w),O,N),a.set(g+1,w-1,y[0]),a.set(g+1,w,y[1]))),v*(b=Math.max(Math.abs(a.get(g,w-1)),Math.abs(a.get(g,w))))*b>1)for(f=g;f<=w;f++)a.set(f,w-1,a.get(f,w-1)/b),a.set(f,w,a.get(f,w)/b)}for(g=0;g<t;g++)if(g<0||g>p)for(f=g;f<t;f++)r.set(g,f,a.get(g,f));for(f=t-1;f>=0;f--)for(g=0;g<=p;g++){for(O=0,o=0;o<=Math.min(f,p);o++)O+=r.get(g,o)*a.get(o,f);r.set(g,f,O)}}}function i(t,e,s,r){let a,g;return Math.abs(s)>Math.abs(r)?[(t+(a=r/s)*e)/(g=s+a*r),(e-a*t)/g]:[((a=s/r)*t+e)/(g=r+a*s),(a*e-t)/g]}exports.default=a;
},{"../matrix":"M9sK","../wrap/WrapperMatrix2D":"Cl7u","./util":"XpUR"}],"aPli":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../matrix")),t=r(require("../wrap/WrapperMatrix2D"));function r(e){return e&&e.__esModule?e:{default:e}}class i{constructor(r){if(!(r=t.default.checkMatrix(r)).isSymmetric())throw new Error("Matrix is not symmetric");let i,o,s,a=r,f=a.rows,n=new e.default(f,f),l=!0;for(o=0;o<f;o++){let e=0;for(s=0;s<o;s++){let t=0;for(i=0;i<s;i++)t+=n.get(s,i)*n.get(o,i);t=(a.get(o,s)-t)/n.get(s,s),n.set(o,s,t),e+=t*t}for(l&=(e=a.get(o,o)-e)>0,n.set(o,o,Math.sqrt(Math.max(e,0))),s=o+1;s<f;s++)n.set(o,s,0)}this.L=n,this.positiveDefinite=Boolean(l)}isPositiveDefinite(){return this.positiveDefinite}solve(e){e=t.default.checkMatrix(e);let r=this.L,i=r.rows;if(e.rows!==i)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");let o,s,a,f=e.columns,n=e.clone();for(a=0;a<i;a++)for(s=0;s<f;s++){for(o=0;o<a;o++)n.set(a,s,n.get(a,s)-n.get(o,s)*r.get(a,o));n.set(a,s,n.get(a,s)/r.get(a,a))}for(a=i-1;a>=0;a--)for(s=0;s<f;s++){for(o=a+1;o<i;o++)n.set(a,s,n.get(a,s)-n.get(o,s)*r.get(o,a));n.set(a,s,n.get(a,s)/r.get(a,a))}return n}get lowerTriangularMatrix(){return this.L}}exports.default=i;
},{"../matrix":"M9sK","../wrap/WrapperMatrix2D":"Cl7u"}],"EWKM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("../wrap/WrapperMatrix2D")),t=s(require("../matrix"));function s(e){return e&&e.__esModule?e:{default:e}}class r{constructor(s,r={}){s=e.default.checkMatrix(s);let{Y:o}=r;const{scaleScores:l=!1,maxIterations:m=1e3,terminationCriteria:u=1e-10}=r;let i;if(o){if(!(o=Array.isArray(o)&&"number"==typeof o[0]?t.default.columnVector(o):e.default.checkMatrix(o)).isColumnVector()||o.rows!==s.rows)throw new Error("Y must be a column vector of length X.rows");i=o}else i=s.getColumnVector(0);let a,n,p,c,d=1;for(let e=0;e<m&&d>u;e++)p=(p=s.transpose().mmul(i).div(i.transpose().mmul(i).get(0,0))).div(p.norm()),a=s.mmul(p).div(p.transpose().mmul(p).get(0,0)),e>0&&(d=a.clone().sub(c).pow(2).sum()),c=a.clone(),o?(n=(n=o.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0))).div(n.norm()),i=o.mmul(n).div(n.transpose().mmul(n).get(0,0))):i=a;if(o){let e=s.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0));e=e.div(e.norm());let t=s.clone().sub(a.clone().mmul(e.transpose())),r=i.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0)),l=o.clone().sub(a.clone().mulS(r.get(0,0)).mmul(n.transpose()));this.t=a,this.p=e.transpose(),this.w=p.transpose(),this.q=n,this.u=i,this.s=a.transpose().mmul(a),this.xResidual=t,this.yResidual=l,this.betas=r}else this.w=p.transpose(),this.s=a.transpose().mmul(a).sqrt(),this.t=l?a.clone().div(this.s.get(0,0)):a,this.xResidual=s.sub(a.mmul(p.transpose()))}}exports.default=r;
},{"../wrap/WrapperMatrix2D":"Cl7u","../matrix":"M9sK"}],"g7Xd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={AbstractMatrix:!0,Matrix:!0,wrap:!0,WrapperMatrix1D:!0,WrapperMatrix2D:!0,solve:!0,inverse:!0,determinant:!0,linearDependencies:!0,pseudoInverse:!0,covariance:!0,correlation:!0,SingularValueDecomposition:!0,SVD:!0,EigenvalueDecomposition:!0,EVD:!0,CholeskyDecomposition:!0,CHO:!0,LuDecomposition:!0,LU:!0,QrDecomposition:!0,QR:!0,Nipals:!0,NIPALS:!0};Object.defineProperty(exports,"AbstractMatrix",{enumerable:!0,get:function(){return r.AbstractMatrix}}),Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"Matrix",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"wrap",{enumerable:!0,get:function(){return n.wrap}}),Object.defineProperty(exports,"WrapperMatrix1D",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"WrapperMatrix2D",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"solve",{enumerable:!0,get:function(){return u.solve}}),Object.defineProperty(exports,"inverse",{enumerable:!0,get:function(){return u.inverse}}),Object.defineProperty(exports,"determinant",{enumerable:!0,get:function(){return a.determinant}}),Object.defineProperty(exports,"linearDependencies",{enumerable:!0,get:function(){return p.linearDependencies}}),Object.defineProperty(exports,"pseudoInverse",{enumerable:!0,get:function(){return c.pseudoInverse}}),Object.defineProperty(exports,"covariance",{enumerable:!0,get:function(){return f.covariance}}),Object.defineProperty(exports,"correlation",{enumerable:!0,get:function(){return s.correlation}}),Object.defineProperty(exports,"SingularValueDecomposition",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"SVD",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"EigenvalueDecomposition",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"EVD",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"CholeskyDecomposition",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"CHO",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"LuDecomposition",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"LU",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"QrDecomposition",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(exports,"QR",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(exports,"Nipals",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(exports,"NIPALS",{enumerable:!0,get:function(){return y.default}});var r=P(require("./matrix")),t=require("./views/index");Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===t[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return t[r]}}))});var n=require("./wrap/wrap"),o=j(require("./wrap/WrapperMatrix1D")),i=j(require("./wrap/WrapperMatrix2D")),u=require("./decompositions"),a=require("./determinant"),p=require("./linearDependencies"),c=require("./pseudoInverse"),f=require("./covariance"),s=require("./correlation"),l=j(require("./dc/svd.js")),d=j(require("./dc/evd.js")),b=j(require("./dc/cholesky.js")),m=j(require("./dc/lu.js")),x=j(require("./dc/qr.js")),y=j(require("./dc/nipals.js"));function j(e){return e&&e.__esModule?e:{default:e}}function O(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return O=function(){return e},e}function P(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=O();if(r&&r.has(e))return r.get(e);var t={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(t,o,i):t[o]=e[o]}return t.default=e,r&&r.set(e,t),t}
},{"./matrix":"M9sK","./views/index":"vL2K","./wrap/wrap":"lmEE","./wrap/WrapperMatrix1D":"nSg8","./wrap/WrapperMatrix2D":"Cl7u","./decompositions":"NKzx","./determinant":"VxkP","./linearDependencies":"KL3f","./pseudoInverse":"BdFj","./covariance":"gR9P","./correlation":"RLxS","./dc/svd.js":"oFqC","./dc/evd.js":"vWSd","./dc/cholesky.js":"aPli","./dc/lu.js":"w0TF","./dc/qr.js":"vk0J","./dc/nipals.js":"EWKM"}],"h2G7":[function(require,module,exports) {
"use strict";require("./once.js");var e=r(require("./mouseCanvas.js")),t=require("ml-matrix");function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){return c(e)||l(e,t)||a(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(c){o=!0,a=c}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return r}}function c(e){if(Array.isArray(e))return e}function f(e,t,r){r=r||[];var n=e[0],o=e[1],a=e[2],i=t[0],l=t[1],c=t[2];return r[0]=o*c-a*l,r[1]=a*i-n*c,r[2]=n*l-o*i,r}var u=document.querySelector("canvas"),s=[];function h(e){s.push(e)}function d(e){s.pop()}function v(){return s.length>0?s[s.length-1]:0}function g(e,t){var r=v();return[e*Math.cos(r)+t*Math.sin(r),e*-Math.sin(r)+t*Math.cos(r)]}var w=[200,-200],y=[200,-200];(0,e.default)(u).toCanvas(p).addRect(function(e){return e.rectAround(w,5)}).state("select",{callback:function(e){switch(e.type){case"enter":e.cursor="grab";break;case"exit":e.cursor="default"}},mouseDown:function(e){e.rect&&(e.state="drag")}}).state("drag",{mouseMove:function(e){e.cursor="grabbing";var t=n(b(e.x,e.y),2),r=t[0],o=t[1];y[0]=w[0]=r,y[1]=w[1]=o},mouseUp:function(e){e.state="select",e.cursor="grab"}});var m=u.getContext("2d");function p(e,t){return[e+u.width/5,t+4*u.height/5]}function b(e,t){return[e-u.width/5,t-4*u.height/5]}function M(e,t,r){var o=n(p(e,t),2);e=o[0],t=o[1],m.beginPath(),m.arc(e,t,r,0,2*Math.PI),m.stroke()}function x(e,t,r){var o=n(p(e,t),2);e=o[0],t=o[1];var a=n(g(-r,0),2),i=a[0],l=a[1],c=n(g(+r,0),2),f=c[0],u=c[1];m.beginPath(),m.moveTo(e+i,t+l),m.lineTo(e+f,t+u),m.stroke();var s=n(g(0,-r),2);i=s[0],l=s[1];var h=n(g(0,+r),2);f=h[0],u=h[1],m.beginPath(),m.moveTo(e+i,t+l),m.lineTo(e+f,t+u),m.stroke()}function k(e,t,r,o){var a=n(p(e,t),2);e=a[0],t=a[1];var i=v();m.fillStyle="lightblue",m.strokeStyle="blue",m.beginPath(),m.moveTo(e,t),m.arc(e,t,r,-(i-o),-i,!0),m.closePath(),m.fill();var l=m.lineWidth;m.lineWidth=1,m.stroke(),m.lineWidth=l,m.fillStyle="black",m.strokeStyle="black"}function P(e,t){var r=e.world,o=e.effector_world,a=n(p(r.x,r.y),2),i=a[0],l=a[1],c=n(p(o.x,o.y),2),f=c[0],u=c[1],s=n(g(0,-t),2),h=s[0],d=s[1],v=n(g(0,+t),2),w=v[0],y=v[1];m.beginPath(),m.moveTo(i+h,l+d),m.lineTo(f,u),m.lineTo(i+w,l+y),m.stroke()}function _(e){var t=e.filter(function(e){return e.isEffector})[0].effector_world;e.forEach(function(r,o){var a=r.world;if(h(r.world.angle+r.angle),k(a.x,a.y,10,r.angle),M(a.x,a.y,20),x(a.x,a.y,20),P(r,20),d(),r.drawCircle){var i=t.x-r.world.x,l=t.y-r.world.y,c=Math.sqrt(Math.pow(i,2)+Math.pow(l,2)),f=n(p((a=r.world).x,a.y),2),u=f[0],s=f[1];if(m.setLineDash([5,5]),m.beginPath(),m.arc(u,s,c,0,2*Math.PI,!0),m.stroke(),m.setLineDash([]),I){var v=n(p((t=e.filter(function(e){return e.isEffector})[0]).effector_world.x,t.effector_world.y),2),g=v[0],w=v[1],y=(c=Math.sqrt(Math.pow(I.get(0,o),2)+Math.pow(I.get(1,o),2)),m.strokeStyle);m.strokeStyle="red",m.beginPath(),m.moveTo(g,w),m.lineTo(g+I.get(0,o)/c*100,w+I.get(1,o)/c*100),m.stroke(),m.strokeStyle=y}}})}function E(e,t,r,o){var a=n(p(e,t),2);e=a[0],t=a[1];var i=n(p(r,o),2);r=i[0],o=i[1],m.setLineDash([5,5]),m.beginPath(),m.moveTo(e,t),m.lineTo(r,o),m.stroke(),m.setLineDash([])}function T(e,t){var r=e.filter(function(e){return e.isEffector})[0];E(r.effector_world.x,r.effector_world.y,t[0],t[1])}function S(e,t){t=t||"black";var r=m.strokeStyle;m.strokeStyle=t,M(e[0],e[1],5),x(e[0],e[1],5),m.strokeStyle=r}var I,q=[{length:200,angle:Math.PI/4,world:{}},{length:200,angle:Math.PI/4,world:{},isEffector:!0}],A=[{children:[1]}],L=[];function C(){var e=!1;0==L.length&&(e=!0),e&&(L=[]);var r=q.filter(function(e){return e.isEffector})[0];y[0]=w[0],y[1]=w[1];var n=q[0].world.x,o=q[0].world.y,a=y[0]-n,i=y[1]-o,l=Math.sqrt(Math.pow(a,2)+Math.pow(i,2));l>400&&(y[0]=n+a/l*400,y[1]=o+i/l*400);for(var c=10,u=y[0]-r.effector_world.x,s=y[1]-r.effector_world.y,h=Math.sqrt(Math.pow(u,2)+Math.pow(s,2));c>0&&Math.abs(h)>5;){c--,I=t.Matrix.zeros(2,q.length);for(var d=q.length-1;d>=0;--d){var v=q[d],g=f([0,0,1],[r.effector_world.x-v.world.x,r.effector_world.y-v.world.y,0]);I.set(0,d,-g[0]),I.set(1,d,-g[1])}var m=(0,t.pseudoInverse)(I),p=(u=y[0]-r.effector_world.x,s=y[1]-r.effector_world.y,m.mmul(new t.Matrix([[u],[s]]))),b=[];for(d=0;d<q.length;++d){v=q[d];var M=.1*p.get(d,0);M>.01&&(M=.01),M<-.01&&(M=-.01),v.angle+=M,b.push(v.angle)}L.push(b),F(A,q,{x:0,y:0,angle:0}),u=y[0]-r.effector_world.x,s=y[1]-r.effector_world.y,h=Math.sqrt(Math.pow(u,2)+Math.pow(s,2))}}var j=!1;function D(e,t,r,n){var o=t[r];o.world.x=n.x,o.world.y=n.y,o.world.angle=n.angle;var a=n.angle+o.angle,i=o.length;(o.effector_world={},o.effector_world.angle=a,o.effector_world.x=n.x+(i*Math.cos(a)+0*Math.sin(a)),o.effector_world.y=n.y+(i*-Math.sin(a)+0*Math.cos(a)),e[r]&&e[r].children)&&e[r].children.forEach(function(r){D(e,t,r,o.effector_world)})}function F(e,t,r){e.forEach(function(n,o){return D(e,t,o,r)})}function O(){m.clearRect(0,0,u.width,u.height);var e=n(p(0,0),2),t=e[0],r=e[1],o=n(p(100,100),2),a=o[0],i=o[1];function l(e){var t=e/(2*Math.PI);return t<0&&(t+=1),t>1&&(t-=1),t}m.beginPath(),m.moveTo(t,r),m.lineTo(a,r),m.stroke(),m.beginPath(),m.moveTo(t,r),m.lineTo(t,i),m.stroke(),F(A,q,{x:0,y:0,angle:0}),j&&C(),_(q),T(q,w),S(y,"lightGray"),S(w),m.beginPath(),m.rect(580,20,200,200),m.stroke(),m.beginPath(),m.arc(580+200*l(q[0].angle),20+200*l(q[1].angle),5,0,2*Math.PI,!0),m.stroke(),L.forEach(function(e){m.beginPath(),m.arc(580+200*l(e[0]),20+200*l(e[1]),5,0,2*Math.PI,!0),m.stroke()}),m.fillText("θ2",565,215),m.fillText("θ1",580,235),requestAnimationFrame(O)}document.getElementById("ikstep").addEventListener("click",function(e){L=[],j=e.target.checked}),requestAnimationFrame(O),q.forEach(function(e,t){var r=document.createElement("input"),n=document.createElement("label");r.style="width: 400px",r.type="range",r.min=0,r.max=360,r.addEventListener("input",function(e){q[t].angle=parseFloat(r.value/180*Math.PI),n.innerText=r.value});var o=document.createElement("div");o.addEventListener("mouseenter",function(e){q[t].drawCircle=!0}),o.addEventListener("mouseleave",function(e){q[t].drawCircle=!1}),o.append(r),o.append(n),document.getElementById("angles").append(o)});
},{"./once.js":"IZS2","./mouseCanvas.js":"NUsS","ml-matrix":"g7Xd"}]},{},["h2G7"], null)
//# sourceMappingURL=/ik.b1d9a95e.js.map